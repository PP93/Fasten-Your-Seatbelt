-- MySQL Script generated by MySQL Workbench
-- 12/09/14 16:14:30
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema fysModel
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema fysModel
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `fysModel` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `fysModel` ;

-- -----------------------------------------------------
-- Table `fysModel`.`employee`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `fysModel`.`employee` (
  `employeeID` INT NOT NULL,
  `firstName` VARCHAR(45) NOT NULL,
  `lastName` VARCHAR(45) NOT NULL,
  `username` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `emailAddress` VARCHAR(45) NULL,
  `phoneNumber` VARCHAR(45) NULL,
  `function` VARCHAR(45) NOT NULL,
  `location` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`employeeID`),
  UNIQUE INDEX `employeeID_UNIQUE` (`employeeID` ASC),
  UNIQUE INDEX `username_UNIQUE` (`username` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `fysModel`.`client`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `fysModel`.`client` (
  `clientID` INT NOT NULL,
  `flightNumber` VARCHAR(45) NULL,
  `firstName` VARCHAR(45) NULL,
  `lastName` VARCHAR(45) NULL,
  `emailAddress` VARCHAR(45) NULL,
  `phoneNumber` VARCHAR(45) NULL,
  `zipCode` VARCHAR(45) NULL,
  `address` VARCHAR(45) NULL,
  `city` VARCHAR(45) NULL,
  `country` VARCHAR(45) NULL,
  `shippingZipCode` VARCHAR(45) NULL,
  `shippingAddress` VARCHAR(45) NULL,
  `shippingCity` VARCHAR(45) NULL,
  `shippingCountry` VARCHAR(45) NULL,
  PRIMARY KEY (`clientID`),
  UNIQUE INDEX `clientID_UNIQUE` (`clientID` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `fysModel`.`baggage`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `fysModel`.`baggage` (
  `baggageID` INT NOT NULL,
  `flightNumber` VARCHAR(45) NULL,
  `brand` VARCHAR(45) NULL,
  `color` VARCHAR(45) NULL,
  `weight` VARCHAR(45) NULL,
  `description` VARCHAR(45) NULL,
  `status` VARCHAR(45) NOT NULL COMMENT 'not matched, missing, found, permanently lost',
  `startDate` DATETIME NOT NULL,
  `resolvedDate` DATETIME NULL,
  `clientID` INT NULL,
  PRIMARY KEY (`baggageID`),
  UNIQUE INDEX `baggageID_UNIQUE` (`baggageID` ASC),
  INDEX `verzinzelf1_idx` (`clientID` ASC),
  CONSTRAINT `verzinzelf1`
    FOREIGN KEY (`clientID`)
    REFERENCES `fysModel`.`client` (`clientID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `fysModel`.`log`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `fysModel`.`log` (
  `logID` INT NOT NULL,
  `employeeID` INT NOT NULL,
  `timestamp` TIMESTAMP(0) NOT NULL,
  `screen` VARCHAR(45) NOT NULL,
  `action` VARCHAR(45) NOT NULL,
  `affectedClientID` INT NULL,
  `affectedBaggageID` INT NULL,
  `affectedEmployeeID1` INT NULL,
  PRIMARY KEY (`logID`),
  UNIQUE INDEX `logID_UNIQUE` (`logID` ASC),
  INDEX `verzinzelf2_idx` (`affectedClientID` ASC),
  INDEX `verzinzelf3_idx` (`affectedBaggageID` ASC),
  INDEX `verzinzelf4_idx` (`affectedEmployeeID1` ASC),
  CONSTRAINT `verzinzelf2`
    FOREIGN KEY (`affectedClientID`)
    REFERENCES `fysModel`.`client` (`clientID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `verzinzelf3`
    FOREIGN KEY (`affectedBaggageID`)
    REFERENCES `fysModel`.`baggage` (`baggageID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `verzinzelf4`
    FOREIGN KEY (`affectedEmployeeID1`)
    REFERENCES `fysModel`.`employee` (`employeeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
